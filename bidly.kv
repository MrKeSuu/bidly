#:kivy 2.2.1

<Bidly>:
    orientation: 'vertical'
    padding: (0, 10)
    spacing: 5

    deal_box: deal_box
    interaction_box: interaction_box

    DealBox:
        id: deal_box

    InteractionBox:
        id: interaction_box

        Button:
            id: camera_button
            text: 'Detect & Solve'
            size_hint_y: None
            height: '48dp'
            on_release: root.detect_solve()


<DealBox>:
    size_hint: 1, None
    size: self.width, self.width

    camera: camera

    CameraWidget:
        id: camera

<InteractionBox>:
    orientation: 'vertical'
    spacing: 5


<CameraWidget>:
    resolution: (1600, 1200)  # one of the supported
    play: True
    fit_mode: 'cover'

    canvas.before:
        PushMatrix
        Rotate:
            angle: -90
            origin: self.center
    canvas.after:
        PopMatrix

<BgcolorLabel>:
    text: str(self.label_text)

    font_size: '12sp'
    color: 0, 0, 0, 1
    text_size: self.size
    valign: 'top'

# Define your background color Template
<BackgroundColor@Widget>
    background_color: 1, 1, 1, 1
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos

# Now you can simply Mix the `BackgroundColor` class with almost
# any other widget... to give it a background.
<BgcolorLabel@Label+BackgroundColor>
    # Default the background color for this label
    # to r 0, g 0, b 0, a 0
    background_color: 1, 1, 1, 1


<PongGame>:
    canvas:
        Rectangle:
            pos: self.center_x - 5, 0
            size: 10, self.height
    
    ball: pong_ball
    player1: player_left
    player2: player_right

    Label:
        font_size: 70  
        center_x: root.width / 4
        top: root.top - 50
        text: str(root.player1.score)  #

    Label:
        font_size: 70  
        center_x: root.width * 3 / 4
        top: root.top - 50
        text: str(root.player2.score)  # 

    PongBall:
        id: pong_ball
        center: self.parent.center

    PongPaddle:
        id: player_left
        x: root.x
        center_y: root.center_y

    PongPaddle:
        id: player_right
        x: root.width - self.width
        center_y: root.center_y

